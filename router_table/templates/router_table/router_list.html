{% extends 'router_table/base.html' %}

{% load static %}

{% block title %}
    –†–æ—É—Ç–µ—Ä—ã
{% endblock %}

{% block content %}
    <div class="text-right" style="margin-right: 25px; margin-top: 10px;">
        <a href="{% url 'map' %}">
            <img src="{% static 'img/globe-2-svgrepo-com.svg' %}" alt="–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω—Ü–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ"
                 title="–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω—Ü–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ" style="width: 40px; height: 40px;">
        </a>
    </div>
    <div class="d-flex justify-content-center align-items-center mb-3 mt-5">
        <a href="{% url 'router_create' %}" class="btn btn-primary col-md-3"><i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —Ä–æ—É—Ç–µ—Ä</a>
        <div style="width: 5px"></div>
        <a href="{% url 'upload_accrual' %}" title="–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞" class="btn btn-success">
            <i class="fas fa-arrow-up"></i>
        </a>
    </div>
    <div class="d-flex justify-content-center">
        <a href="{% url 'sim_list' %}">–°–ø–∏—Å–æ–∫ –°–ò–ú</a>
    </div>

    {% if not routers %}
        <h1 class="d-flex justify-content-center align-items-center mt-5">–†–æ—É—Ç–µ—Ä–æ–≤ –Ω–µ—Ç</h1>
    {% else %}
        <table class="table table-striped">
            <thead>
            <tr>
                <th>ID</th>
                <th>–†–æ—É—Ç–µ—Ä</th>
                <th>–°–≤—è–∑—å</th>
                <th>–î–æ–≥–æ–≤–æ—Ä</th>
                <th>–°–ò–ú</th>
                <th>–°—É–º–º–∞</th>
                <th>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody>
            {% for router in routers %}
                <tr>
                    {% if router.router_user_id %}
                        <td>{{ router.router_user_id }}</td>
                    {% else %}
                        <td>-</td>
                    {% endif %}
                    {% if router.antenna %}
                        {% if router.router %}
                        <td class="text-break"
                            style="max-width: 300px; word-wrap: break-word;">{{ router.router }}, {{ router.antenna }}</td>
                        {% else %}
                                            <td class="text-break"
                            style="max-width: 300px; word-wrap: break-word;">{{ router.antenna }}</td>
                        {% endif %}
                    {% else %}
                        {% if router.router %}
                            <td class="text-break" style="max-width: 300px; word-wrap: break-word;">{{ router.router }}</td>
                        {% else %}
                            <td class="text-break" style="max-width: 300px; word-wrap: break-word;">-</td>
                        {% endif %}
                    {% endif %}
                    {% if router.station %}
                        {% if router.station.is_monitoring %}
                            <td>
                                {% if router.station.connect >= 90 %}
                                    üü©
                                {% elif router.station.connect >= 55 %}
                                    üü®
                                {% else %}
                                    üü•
                                {% endif %}
                                {{ router.station.connect }}%
                            </td>
                        {% else %}
                            <td>
                                ‚¨ú 0%
                            </td>
                        {% endif %}
                    {% else %}
                        <td>–°—Ç–∞–Ω—Ü–∏—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞</td>
                    {% endif %}
                    <td class="text-break" style="max-width: 250px; word-wrap: break-word;">{{ router.contract }}</td>
                    <td class="text-break" style="max-width: 200px; word-wrap: break-word;">–ë–∏–ª–∞–π–Ω <a
                            href="{% url 'sim_detail' router.sim.pk %}">{{ router.sim }}</a></td>
                    <td>{{ router.total }}</td>
                    {% if router.note %}
                        <td class="text-truncate" style="max-width: 100px;">{{ router.note }}</td>
                    {% else %}
                        <td class="text-truncate" style="max-width: 100px;">-</td>
                    {% endif %}
                    <td>
                        <a title="–ü–µ—Ä–µ–π—Ç–∏" href="{% url 'router_page' router.pk %}" class="btn btn-sm btn-success"><i
                                class="fas fa-arrow-right"></i></a>
                        <a title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" href="{% url 'router_update' router.pk %}"
                           class="btn btn-sm btn-warning"><i class="fas fa-edit"></i></a>
                        <a title="–£–¥–∞–ª–∏—Ç—å" href="{% url 'router_delete' router.pk %}" class="btn btn-sm btn-danger"><i
                                class="fas fa-trash-alt"></i></a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}
